<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PSP XMB - Large & Centered</title>
    <style>
        :root {
            /* Colors */
            --bg-color: #0039A6;
            --bg-gradient: radial-gradient(circle at top right, #0055CC, #001F5C);
            --text-color: #ffffff;
            
            /* SCALING: ~1.5x larger than previous */
            --icon-size: 90px;
            --icon-spacing: 200px; 
            --item-height: 80px;
            
            /* The gap for the active category icon to sit in */
            --selection-gap: 180px; 

            /* POSITIONING: More centered */
            --focus-x: 40%;
            --focus-y: 40%;
        }

        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            background: var(--bg-gradient);
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            color: var(--text-color);
            /* Bump up base font size */
            font-size: 18px; 
        }

        .wave {
            position: absolute;
            width: 200%;
            height: 200%;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 40%;
            animation: rotate 20s linear infinite;
            top: 50%;
            left: -50%;
            z-index: 0;
            pointer-events: none;
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        /* HORIZONTAL AXIS */
        #category-row {
            position: absolute;
            top: var(--focus-y);
            left: var(--focus-x);
            display: flex;
            align-items: flex-start; 
            transition: transform 0.3s cubic-bezier(0.2, 0.8, 0.2, 1);
            z-index: 10;
        }

        .category-group {
            position: absolute;
            display: flex;
            flex-direction: column;
            align-items: center;
            width: var(--icon-size);
            transition: opacity 0.3s, transform 0.3s;
        }

        /* CATEGORY ICON (The big square) */
        .cat-icon {
            width: var(--icon-size);
            height: var(--icon-size);
            background: rgba(255,255,255,0.7);
            border: 3px solid rgba(255,255,255,0.2);
            box-shadow: 0 0 20px rgba(255,255,255,0.2);
            border-radius: 14px;
            transition: all 0.3s;
            position: absolute; 
            top: 0;
            left: 0;
            z-index: 5; 
        }

        .category-group.active .cat-icon {
            background: #fff;
            transform: scale(1.1);
            box-shadow: 0 0 40px rgba(255,255,255,0.5);
            z-index: 20;
        }
        
        .category-group.inactive .cat-icon {
            opacity: 0.5;
            transform: scale(0.8);
        }

        /* LABEL (e.g. "Settings") */
        .cat-label {
            position: absolute;
            top: -60px; /* Moved up to account for larger size */
            white-space: nowrap;
            font-size: 22px;
            font-weight: 300;
            text-shadow: 1px 1px 4px rgba(0,0,0,0.5);
            opacity: 0;
            transition: opacity 0.2s;
        }
        .category-group.active .cat-label { opacity: 1; }

        /* VERTICAL AXIS */
        .item-col {
            display: flex;
            flex-direction: column;
            position: absolute;
            left: 10px; /* Slight offset from center line */
            width: 600px; /* Wider for larger text */
            top: 0px; 
            opacity: 0;
            transition: transform 0.3s cubic-bezier(0.2, 0.8, 0.2, 1), opacity 0.2s;
        }

        .category-group.active .item-col { opacity: 1; }

        .item {
            height: var(--item-height);
            display: flex;
            align-items: center;
            opacity: 0.6;
            margin-top: 0px; 
            transition: margin-top 0.3s cubic-bezier(0.2, 0.8, 0.2, 1), 
                        opacity 0.2s, 
                        transform 0.2s;
            font-size: 20px; /* Larger item text */
        }

        /* THE SKIP LOGIC */
        .item.active {
            opacity: 1;
            margin-top: var(--selection-gap); 
            transform: scale(1.05) translateX(15px);
            font-weight: bold;
            text-shadow: 0 0 15px rgba(255,255,255,0.5);
            font-size: 24px;
        }

        .item-icon {
            width: 45px; /* Larger item icon */
            height: 45px;
            background: rgba(255,255,255,0.8);
            margin-right: 25px;
            border-radius: 6px;
        }

        /* HUD */
        #clock {
            position: absolute;
            top: 40px;
            right: 50px;
            font-size: 32px;
            font-weight: 300;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
        }
        #help {
            position: absolute;
            bottom: 40px;
            left: 40px;
            font-size: 18px;
            opacity: 0.8;
        }
    </style>
</head>
<body>

    <div class="wave"></div>
    <div id="clock">12:00 PM</div>
    <div id="category-row"></div>
    <div id="help">Use Arrow Keys to Navigate</div>

    <script>
        const menuData = [
            { name: "Settings", items: ["System Update", "USB Connection", "Video Settings", "Photo Settings", "System Settings", "Theme Settings"] },
            { name: "Photo", items: ["Memory Stick™", "Camera", "Wallpaper"] },
            { name: "Music", items: ["Memory Stick™", "Volume Control", "SensMe™ Channels", "Playlist"] },
            { name: "Video", items: ["Memory Stick™", "UMD™"] },
            { name: "Game", items: ["Game Sharing", "Saved Data Utility", "Memory Stick™", "UMD™"] },
            { name: "Network", items: ["Instruction Manuals", "Remote Play", "Internet Radio", "Internet Browser"] },
            { name: "PSN", items: ["Sign Up", "Manage Account", "PlayStation®Store"] }
        ];

        let currentCat = 4; // Start at Game
        let currentItem = 1; // Start at Saved Data

        const rowEl = document.getElementById('category-row');
        
        // UPDATED JS CONSTANTS to match CSS variables
        const ICON_SPACING = 200; 
        const ITEM_HEIGHT = 80;

        function init() {
            render();
            updateClock();
            updatePos();
            setInterval(updateClock, 60000);
        }

        function render() {
            rowEl.innerHTML = '';
            menuData.forEach((cat, cIdx) => {
                const group = document.createElement('div');
                group.className = 'category-group';
                group.id = `cat-${cIdx}`;
                group.style.left = `${cIdx * ICON_SPACING}px`;

                const label = document.createElement('div');
                label.className = 'cat-label';
                label.innerText = cat.name;
                
                const icon = document.createElement('div');
                icon.className = 'cat-icon';

                const col = document.createElement('div');
                col.className = 'item-col';
                col.id = `col-${cIdx}`;

                cat.items.forEach((txt, iIdx) => {
                    const item = document.createElement('div');
                    item.className = 'item';
                    // We use innerHTML to insert the square icon and text
                    item.innerHTML = `<div class="item-icon"></div><span>${txt}</span>`;
                    col.appendChild(item);
                });

                group.append(label, icon, col);
                rowEl.appendChild(group);
            });
        }

        function updatePos() {
            // Horizontal Scroll
            rowEl.style.transform = `translateX(${currentCat * ICON_SPACING * -1}px)`;

            // Category Classes
            menuData.forEach((_, i) => {
                const grp = document.getElementById(`cat-${i}`);
                if (i === currentCat) {
                    grp.classList.add('active');
                    grp.classList.remove('inactive');
                    updateVertical(i);
                } else {
                    grp.classList.remove('active');
                    grp.classList.add('inactive');
                }
            });
        }

        function updateVertical(cIdx) {
            const col = document.getElementById(`col-${cIdx}`);
            const items = col.querySelectorAll('.item');

            items.forEach((item, i) => {
                if (i === currentItem) {
                    item.classList.add('active');
                } else {
                    item.classList.remove('active');
                }
            });

            // Vertical Scroll Calculation
            const scrollY = currentItem * ITEM_HEIGHT * -1;
            col.style.transform = `translateY(${scrollY}px)`;
        }

        function updateClock() {
            const now = new Date();
            const str = now.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
            document.getElementById('clock').innerText = str;
        }

        document.addEventListener('keydown', (e) => {
            if(e.key === 'ArrowRight') {
                if(currentCat < menuData.length - 1) {
                    currentCat++;
                    currentItem = 0; 
                    updatePos();
                }
            } else if(e.key === 'ArrowLeft') {
                if(currentCat > 0) {
                    currentCat--;
                    currentItem = 0;
                    updatePos();
                }
            } else if(e.key === 'ArrowDown') {
                if(currentItem < menuData[currentCat].items.length - 1) {
                    currentItem++;
                    updatePos();
                }
            } else if(e.key === 'ArrowUp') {
                if(currentItem > 0) {
                    currentItem--;
                    updatePos();
                }
            }
        });

        init();
    </script>
</body>
</html>